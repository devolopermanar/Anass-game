<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Marwa's Birthday Game ğŸŒ¸</title>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <style>
    :root {
      --primary: #ffb7c5; /* ÙˆØ±Ø¯ÙŠ Ù†Ø§Ø¹Ù… */
      --secondary: #9b59b6; /* Ø¨Ù†ÙØ³Ø¬ÙŠ Ø±Ù‚ÙŠÙ‚ */
      --bg: #fff5f7;
    }
    body { 
      background: var(--bg); font-family: 'Segoe UI', Tahoma, sans-serif;
      display: flex; justify-content: center; align-items: center; 
      height: 100vh; margin: 0; overflow: hidden;
    }
    .card { 
      background: rgba(255, 255, 255, 0.9); padding: 30px; border-radius: 30px; 
      text-align: center; width: 320px; box-shadow: 0 10px 40px rgba(255, 183, 197, 0.4);
      border: 2px solid #fff; backdrop-filter: blur(10px);
      animation: fadeIn 1s ease;
    }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    
    h2 { color: #d81b60; font-size: 1.3rem; margin-bottom: 20px; line-height: 1.6; }
    button { 
      background: var(--primary); border: none; padding: 15px; border-radius: 15px; 
      color: white; font-weight: bold; width: 100%; margin-bottom: 12px; cursor: pointer; 
      transition: 0.3s; font-size: 1rem; box-shadow: 0 4px 15px rgba(255, 183, 197, 0.3);
    }
    button:hover { background: #ff8fa3; transform: scale(1.03); }
    .btn-alt { background: #e1bee7; color: #7b1fa2; }
    .heart { color: #ff4081; }
  </style>
</head>
<body>

  <audio id="marwaMusic" loop>
    <source src="marwasong.mp3" type="audio/mpeg">
  </audio>

  <div id="app"></div>

  <script>
    const music = document.getElementById('marwaMusic');
    
    function render(content) { 
      document.getElementById('app').innerHTML = `<div class="card">${content}</div>`; 
    }

    // Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
    window.start = () => {
      render(`
        <div style="font-size: 3rem;">ğŸ</div>
        <h2>ÙŠØ§ Ù‡Ù„Ø§ Ø¨Ù€ "Ù…Ø±ÙˆØ©"! <br> ÙÙŠÙ‡ Ù…ÙØ§Ø¬Ø£Ø© ØµØºÙŠØ±Ø© ØªÙ†ØªØ¸Ø±ÙƒÙ.. Ø¬Ø§Ù‡Ø²Ø©ØŸ</h2>
        <button onclick="playGame()">Ø£ÙƒÙŠØ¯ØŒ Ø§ÙØªØ­ÙŠÙ‡Ø§! âœ¨</button>
      `);
    };

    window.playGame = () => {
      music.play(); // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£ØºÙ†ÙŠØ©
      render(`
        <h2>Ø§Ù„ÙŠÙˆÙ… ÙƒØ¨Ø±ØªÙ Ø³Ù†Ø© ÙŠØ§ Ø£Ø¬Ù…Ù„ Ù…Ø±ÙˆØ´Ø©! ğŸ‚</h2>
        <p>ØªØ¯Ø±ÙŠÙ† ÙƒÙ… Ù…Ø¹Ø²ØªÙƒ Ø¨Ù‚Ù„Ø¨ÙŠØŸ</p>
        <button onclick="q1()">Ù‚Ø¯ Ø§Ù„Ø¯Ù†ÙŠØ§ ÙƒÙ„Ù‡Ø§ ğŸ’—</button>
        <button onclick="q1()">Ø£ÙƒØ«Ø± Ù…Ù…Ø§ ØªØªØ®ÙŠÙ„ÙŠ â˜ï¸</button>
      `);
    };

    window.q1 = () => {
      render(`
        <h2>Ù„Ùˆ Ø®ÙŠØ±ÙˆÙƒÙ Ù…Ø±ÙˆØ©.. Ø£ÙŠ Ù‡Ø¯ÙŠØ© ØªØ­Ø¨ÙŠÙ†ØŸ ğŸ€</h2>
        <button onclick="q2('Ø§Ù„ÙˆØ±Ø¯')">Ø¨Ø§Ù‚Ø© ÙˆØ±Ø¯ ÙƒØ¨ÙŠØ±Ø© ğŸŒ·</button>
        <button onclick="q2('Ø§Ù„Ø³ÙØ±')">ØªØ°ÙƒØ±Ø© Ø³ÙØ± Ù„Ù…ÙƒØ§Ù† ØªØ­Ø¨ÙŠÙ‡ âœˆï¸</button>
        <button onclick="q2('Ø§Ù„Ø´ÙˆÙƒÙ„Ø§ØªØ©')">ØµÙ†Ø¯ÙˆÙ‚ Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ© ÙØ§Ø®Ø±Ø© ğŸ«</button>
      `);
    };

    window.q2 = (choice) => {
      render(`
        <h2>Ø­ØªÙ‰ ${choice} Ù‚Ù„ÙŠÙ„ Ø¨Ø­Ù‚Ùƒ! âœ¨</h2>
        <p>Ù…Ø³ØªØ¹Ø¯Ø© Ù„Ø±Ø³Ø§Ù„ØªÙŠ Ø§Ù„Ø³Ø±ÙŠØ©ØŸ</p>
        <button onclick="finalLevel()">Ù†Ø¹Ù…ØŒ ÙˆØ±ÙŠÙ†ÙŠ! ğŸ’Œ</button>
      `);
    };

    window.finalLevel = () => {
      // Ù…Ø·Ø± Ù‚Ù„ÙˆØ¨ ÙƒÙ†ÙÙŠØªÙŠ
      const duration = 15 * 1000,
            animationEnd = Date.now() + duration,
            defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

      function randomInRange(min, max) { return Math.random() * (max - min) + min; }

      const interval = setInterval(function() {
        const timeLeft = animationEnd - Date.now();
        if (timeLeft <= 0) return clearInterval(interval);
        const particleCount = 50 * (timeLeft / duration);
        confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
        confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
      }, 250);

      render(`
        <h2 style="color: #d81b60;">ÙƒÙ„ Ø¹Ø§Ù… ÙˆØ£Ù†ØªÙ Ø¨Ø®ÙŠØ± ÙŠØ§ Ù…Ø±ÙˆØ©! ğŸ‰</h2>
        <p style="font-size: 0.9rem; color: #555;">
          Ø³Ù†Ø© Ø­Ù„ÙˆØ© ØªØ´Ø¨Ù‡ Ø¶Ø­ÙƒØªÙƒÙØŒ ÙŠØ§ Ø±Ø¨ ØªÙƒÙˆÙ† Ø£ÙŠØ§Ù…Ùƒ ÙƒÙ„Ù‡Ø§ ÙØ±Ø­ ÙˆÙ†Ø¬Ø§Ø­. <br>
          Ù…Ù…ØªÙ†Ø© Ø¬Ø¯Ø§Ù‹ Ù„ÙˆØ¬ÙˆØ¯Ùƒ ÙÙŠ Ø­ÙŠØ§ØªÙŠ ÙŠØ§ Ø£ØºÙ„Ù‰ ØµØ¯ÙŠÙ‚Ø©! <span class="heart">â¤ï¸</span>
        </p>
        <div style="font-size: 2rem;">ğŸ‚ğŸˆğŸ¦</div>
        <button class="btn-alt" style="margin-top:10px" onclick="location.reload()">Ø£Ø¹ÙŠØ¯ÙŠ Ø§Ù„Ø¹Ø±Ø¶ ğŸ”„</button>
      `);
    };

    start();
  </script>
</body>
</html>
